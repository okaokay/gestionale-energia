2025-11-01 12:05:00 gestionale-energia-hostinger  | 
2025-11-01 12:05:00 gestionale-energia-hostinger  | ⏰ [01/11/2025, 12:05:00] Controllo campagne programmate
2025-11-01 12:05:00 gestionale-energia-hostinger  | 📧 Inizio controllo campagne programmate...
2025-11-01 12:05:00 gestionale-energia-hostinger  | 💤 Nessuna campagna programmata da inviare
2025-11-01 12:06:29 gestionale-energia-hostinger  | 📁 DATABASE_PATH: /app/backend/database/database.sqlite
2025-11-01 12:06:29 gestionale-energia-hostinger  | 🔧 Avvio migrazione idempotente per creare tabelle mancanti...
2025-11-01 12:06:29 gestionale-energia-hostinger  | 🚀 Inizio migrazione SQLite...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella users creata
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Utente Super Admin creato
2025-11-01 12:06:29 gestionale-energia-hostinger  |    Email: admin@gestionale.it
2025-11-01 12:06:29 gestionale-energia-hostinger  |    Password: Admin123!
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabelle clienti create
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabelle contratti create
2025-11-01 12:06:29 gestionale-energia-hostinger  | 💰 Creazione tabella contabilita_movimenti...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella contabilita_movimenti creata con indici
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella offerte creata
2025-11-01 12:06:29 gestionale-energia-hostinger  | 🧩 Verifica/Aggiunta colonne utenti mancanti...
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.role già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.is_active già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.parent_id già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.agency_name già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.phone già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.commissioni_luce_default già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  users.commissioni_gas_default già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  | 🧩 Verifica/Aggiunta colonne mancanti...
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  codice_cliente già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  provincia_residenza già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  incomplete_data già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  missing_fields già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  data_quality_score già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  stato già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  assigned_agent_id già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  commissione_pattuita già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  commissione_pagata già presente su clienti_privati, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  provincia_sede_legale già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  codice_cliente già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  stato già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  assigned_agent_id già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  commissione_pattuita già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  commissione_pagata già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  email_principale già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  incomplete_data già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  missing_fields già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  data_quality_score già presente su clienti_aziende, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  contratti_luce.data_inizio già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  contratti_gas.data_inizio già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  contratti_luce.data_fine già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  contratti_gas.data_fine già presente, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  | 💼 Creazione tabella compensi...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella compensi creata con indici
2025-11-01 12:06:29 gestionale-energia-hostinger  | 📰 Creazione tabelle newsletter...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabelle newsletter create e seed inserito
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella ai_matches creata
2025-11-01 12:06:29 gestionale-energia-hostinger  | 📧 Creazione tabella email_templates...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella email_templates creata
2025-11-01 12:06:29 gestionale-energia-hostinger  | 📧 Creazione tabella email_campaigns...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella email_campaigns creata con indici
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  scheduled_end_at già presente su email_campaigns, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  |    ⚠️  sent_at già presente su email_campaigns, skip
2025-11-01 12:06:29 gestionale-energia-hostinger  | 📧 Creazione tabella email_logs...
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Tabella email_logs creata con indici
2025-11-01 12:06:29 gestionale-energia-hostinger  | 
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✨ Migrazione SQLite completata con successo!
2025-11-01 12:06:29 gestionale-energia-hostinger  | 
2025-11-01 12:06:29 gestionale-energia-hostinger  | 🎯 Database pronto all'uso:
2025-11-01 12:06:29 gestionale-energia-hostinger  |    Percorso: /app/backend/database/database.sqlite
2025-11-01 12:06:29 gestionale-energia-hostinger  |    Tipo: SQLite (nessun server richiesto)
2025-11-01 12:06:29 gestionale-energia-hostinger  | 
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Avvia il server: npm run dev
2025-11-01 12:06:29 gestionale-energia-hostinger  |    Frontend: http://localhost:5177
2025-11-01 12:06:29 gestionale-energia-hostinger  |    Login: admin@gestionale.it / Admin123!
2025-11-01 12:06:29 gestionale-energia-hostinger  | 
2025-11-01 12:06:29 gestionale-energia-hostinger  | ✅ Migrazione completata. Database pronto.
2025-11-01 12:06:29 gestionale-energia-hostinger  | 🚀 Avvio server backend...
2025-11-01 12:06:31 gestionale-energia-hostinger  | ✅ Database SQLite connesso: /app/backend/database/database.sqlite
2025-11-01 12:06:34 gestionale-energia-hostinger  | 📡 Configurazione AI: Provider=ollama, URL=http://185.31.67.249/api/generate
2025-11-01 12:06:35 gestionale-energia-hostinger  | 🔌 Test connessione database...
2025-11-01 12:06:35 gestionale-energia-hostinger  | ✅ Test connessione SQLite OK
2025-11-01 12:06:35 gestionale-energia-hostinger  | ⏰ Avvio cron job alert scadenze: 0 9 * * *
2025-11-01 12:06:35 gestionale-energia-hostinger  | ✅ Cron job email scheduler attivo
2025-11-01 12:06:35 gestionale-energia-hostinger  | 
2025-11-01 12:06:35 gestionale-energia-hostinger  | ⏰ Avvio scheduler campagne email (ogni 5 minuti)
2025-11-01 12:06:35 gestionale-energia-hostinger  | ✅ Campaign scheduler attivo
2025-11-01 12:06:35 gestionale-energia-hostinger  | 
2025-11-01 12:06:35 gestionale-energia-hostinger  | 
2025-11-01 12:06:35 gestionale-energia-hostinger  | ============================================================
2025-11-01 12:06:35 gestionale-energia-hostinger  | 🚀 GESTIONALE ENERGIA - Server avviato con successo!
2025-11-01 12:06:35 gestionale-energia-hostinger  | ============================================================
2025-11-01 12:06:35 gestionale-energia-hostinger  | 📡 Server in ascolto su: http://localhost:3001
2025-11-01 12:06:35 gestionale-energia-hostinger  | 🌍 Ambiente: production
2025-11-01 12:06:35 gestionale-energia-hostinger  | 📊 Database: undefined
2025-11-01 12:06:35 gestionale-energia-hostinger  | 🔐 Frontend URL: http://localhost:5173
2025-11-01 12:06:35 gestionale-energia-hostinger  | ============================================================
2025-11-01 12:06:35 gestionale-energia-hostinger  | 
2025-11-01 12:06:35 gestionale-energia-hostinger  | 📋 API Endpoints disponibili:
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/auth/login
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/clienti
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/clienti/privati
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/clienti/aziende
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/contratti/luce
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/contratti/gas
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/contratti/scadenze
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/offerte
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/offerte/upload (Super Admin)
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/offerte/:id/matches
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/dashboard/stats
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/emails/campaigns
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/emails/campaigns
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/unified-import/upload (Import CSV/Excel)
2025-11-01 12:06:35 gestionale-energia-hostinger  |    POST   /api/unified-import/validate (Validazione file)
2025-11-01 12:06:35 gestionale-energia-hostinger  |    GET    /api/unified-import/supported-types
2025-11-01 12:06:35 gestionale-energia-hostinger  | ============================================================
2025-11-01 12:06:35 gestionale-energia-hostinger  | 
2025-11-01 12:06:35 gestionale-energia-hostinger  | ✅ Pronto per ricevere richieste!
2025-11-01 12:06:35 gestionale-energia-hostinger  | 
2025-11-01 12:06:39 gestionale-energia-hostinger  | ::1 - - [01/Nov/2025:11:06:39 +0000] "GET /health HTTP/1.1" 200 81 "-" "Wget"
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:511:51 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:554:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ❌ Errore query SQLite: SqliteError: table clienti_privati has no column named civico_residenza
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Database.prepare (/app/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at Object.query (/app/dist/backend/config/database.js:56:33)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at insertClientePrivato (/app/dist/backend/routes/unified-import.js:143:27)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-11-01 12:06:44 gestionale-energia-hostinger  |     at async /app/dist/backend/routes/unified-import.js:583:37 {
2025-11-01 12:06:44 gestionale-energia-hostinger  |   code: 'SQLITE_ERROR'
2025-11-01 12:06:44 gestionale-energia-hostinger  | }
2025-11-01 12:06:44 gestionale-energia-hostinger  | ::ffff:172.18.0.1 - - [01/Nov/2025:11:06:44 +0000] "POST /api/unified-import/upload HTTP/1.1" 200 117 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.104.3 Chrome/138.0.7204.251 Electron/37.6.1 Safari/537.36"
2025-11-01 12:06:50 gestionale-energia-hostinger  | ::ffff:172.18.0.1 - - [01/Nov/2025:11:06:50 +0000] "GET /api/unified-import/result/006c6a50-26b2-46d2-9ec2-a4d33abd94a9 HTTP/1.1" 200 - "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.104.3 Chrome/138.0.7204.251 Electron/37.6.1 Safari/537.36"
